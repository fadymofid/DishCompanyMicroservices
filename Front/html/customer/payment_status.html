<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Payment Status Notifications</title>
    <link rel="stylesheet" href="../../css/style.css">
</head>
<body>
    <h1>Payment Status</h1>
    <button onclick="window.location.href='orders.html'" class="btn btn-secondary mt-3">Back to Customer Home</button>
    <div id="payment-status-container">
        <!-- Payment status events will be listed here -->
    </div>
    <script src="../../js/app.js"></script>
    <script>
    // Example: Fetch payment status for the logged-in customer (to be implemented)
    // Replace customerId with actual value from session/auth
    const customerId = 1;
    fetch(`http://localhost:8082/orders/payment-status?customerId=${customerId}`)
      .then(res => res.json())
      .then(data => {
        const container = document.getElementById('payment-status-container');
        if (data.length === 0) {
          container.innerHTML = '<p>No payment status updates at this time.</p>';
        } else {
          container.innerHTML = '<ul>' + data.map(status => `<li>Order ID: ${status.orderId}, Status: <b>${status.status}</b>, Time: ${status.timestamp}</li>`).join('') + '</ul>';
        }
      })
      .catch(err => {
        document.getElementById('payment-status-container').innerHTML = '<p>Error loading payment status.</p>';
      });
    </script>
</body>
</html>
